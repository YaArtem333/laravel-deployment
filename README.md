# Руководство по развёртыванию веб-приложения php

### Ссылка на тестовое задание: 
https://bitbucket.org/EquipGroupRu/junior-devops-spetsialist/src/master/

## Предварительные требования

Перед началом работы убедитесь, что на вашем компьютере установлены Docker и Docker Compose. Эти инструменты необходимы для создания и управления контейнерами приложения.

## Обзор архитектуры

Развёртывание включает в себя четыре основных контейнера:

- **База данных Master**: Основной сервер базы данных для приложения.
- **База данных Slave**: Вторичный сервер базы данных, используемый для репликации и запросов только для чтения.
- **PHP Приложение**: функционал веб-приложения.
- **Веб-сервер Nginx**: Веб-сервер для обработки HTTP-запросов и предоставления приложения пользователям.

## Конфигурационные файлы

### docker-compose.yml

Файл `docker-compose.yml` предназначен для определения и запуска приложения в Docker. В этом файле указаны сервисы, сети и тома, необходимые для работы приложения.

### Dockerfile

Dockerfile в корневой директории содержит инструкции для сборки контейнера приложения, включая установку зависимостей и настройку окружения.

### Конфигурация Nginx

В отдельной папке `nginx` содержится файл конфигурации веб-сервера Nginx и Dockerfile для сборки образа Nginx.

## Скрипт инициализации

В корневой директории проекта находится скрипт `init.sh`, который отвечает за выполнение миграций и заполнение таблиц баз данных начальными данными. Скрипт выполняется в контейнере PHP-приложения после установки всех зависимостей.

## Конфигурация окружения

Параметры подключения к базам данных указаны в файле `src/.env`. Кроме того, файл `src/config/database.php` был изменён с учётом текущей конфигурации без репликации, указывая WRITER_DB_DATABASE для операций чтения и записи.

## Использованные технологии

В приложении используются следующие технологии:

- MySQL
- Nginx
- PHP
- NPM
- Artisan
- Composer

## Инструкции по развёртыванию

Для запуска приложения выполните следующую команду:

`docker-compose up -d --build`


После создания и запуска контейнеров приложение будет доступно по адресу `localhost:8080`.

